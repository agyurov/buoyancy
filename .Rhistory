install.packages('ggplot2')
library(ggplot2)
install.packages("ggplot2")
library(ggplot2)
names(iris)
qplot(Sepal.Length, Sepal.Width, data = iris, color = Species)
getwd()
sournce("../Rfunctions/Rfunctions.R")
source("../Rfunctions/Rfunctions.R")
dev.win()
qplot(Sepal.Length, Sepal.Width, data = iris, color = Species)
ggplot(Sepal.Length, Sepal.Width, data = iris, color = Species)
ggplot(iris, aes(Sepal.Length, Sepal.Width), color = Species)
a = ggplot(iris, aes(Sepal.Length, Sepal.Width), color = Species)
a + geom_point()
a + geom_col()
?ggplot
a + geom_point(color = Species)
a + geom_point(color = iris$Species)
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a + geom_point(color = iris$Species)
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a + geom_point(color = iris$Species)
a + geom_point(colour = iris$Species)
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a + geom_point(aes(color = Species))
?ggplot
a + geom_point(aes(color = Species, size = 2))
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a + geom_point(color = Species, size = 2)
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a + geom_point(aes(color = Species, size = 2))
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a + geom_point(color = Species, size = 2)
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a + geom_point(aes(color = Species, size = 2))
a + geom_smooth()
?geom_smooth
a + geom_smooth('point', 'smooth')
a + geom_smooth(c('point', 'smooth'))
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a + geom_point(aes(color = Species, size = 2))
a + geom_smooth(aes('point', 'smooth'))
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a + geom_point(aes(color = Species, size = 2))
a + geom_smooth()
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a + geom_point(aes(color = Species, size = 2))
a + geom_smooth()
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a = a + geom_point(aes(color = Species, size = 2))
a = a + geom_smooth()
print(a)
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a = a + geom_point(aes(color = Species, size = 2))
a = a + geom_smooth(method = 'nls')
print(a)
a = ggplot(iris, aes(Sepal.Length, Sepal.Width))
a = a + geom_point(aes(color = Species, size = 2))
a = a + geom_smooth(method = "nls", formula = y ~ a * x + b, se = F,
method.args = list(start = list(a = 0.1, b = 0.1)))
print(a)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = "nls", formula = y ~ a * x + b, se = F,
method.args = list(start = list(a = 0.1, b = 0.1)))
print(a)
a = a + geom_smooth(method = "nls", formula = y ~ a * x + b,
method.args = list(start = list(a = 0.1, b = 0.1)))
print(a)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = "nls", formula = y ~ a * x + b,
method.args = list(start = list(a = 0.1, b = 0.1)))
print(a)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(formula = y ~ a * x + b,
method.args = list(start = list(a = 0.1, b = 0.1)))
print(a)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth()
print(a)
a
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth('lm')
a
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(method = 'loess')
a
a = a + geom_smooth(formula = Sepal.Length + Sepal.Width)
a = a + geom_smooth(formula = Sepal.Length ~ Sepal.Width)
a
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(formula = Sepal.Length ~ Sepal.Width)
a
a = a + geom_smooth(formula = x ~ y)
a
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(aes(group = 1))
a
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(aes(group = 1, color = "pink"))
a
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
# a = a + geom_smooth(aes(group = 1, color = "pink"))
a
a = a + geom_smooth(aes(group = 1, color = "pink"))
a
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
b = a + geom_smooth(aes(method = 'lm', group = 1, color = "pink"))
a
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
b = a + geom_smooth(method = 'lm', aes(group = 1, color = "pink"))
a
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(method = 'lm', aes(group = 1, color = "pink"))
a
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species, title = "fefs"))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(method = 'lm', aes(group = 1, color = "pink"))
a
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(method = 'lm', aes(group = 1, color = "pink"))
a
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(method = 'lm', aes(group = 1, color = 2))
a
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(method = 'lm', aes(group = 1, color = 2))
a
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(method = 'lm', aes(group = 1, color = 2))
a
library(ggplot2)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(method = 'lm', aes(group = 1, color = 2))
a
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(method = 'lm', aes(group = 1, color = 2))
a
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(method = 'lm', aes(group = 1, color = 'black'))
a
a = ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species))
a = a + geom_point(aes(size = 2))
a = a + geom_smooth(method = 'lm')
a = a + geom_smooth(method = 'lm', aes(group = 1, color = 'black'))
a
a = a + geom_smooth(method = 'lm', aes(group = 1, colour = 'black'))
a
df = iris
df = iris
df = iris
df = iris
df = iris
df = iris
df = iris
df = iris[-'Species']
df = iris[-iris$Species]
species = iris$Species
df = iris[,-5]
names(df)
names(df) = tolower(names(df))
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
species = iris$Species
df = iris[,-5]
names(df) = tolower(names(df))
# init --------------------------------------------------------------------
x = iris[]
x
names(df)
sample(1,1:10)
sample(1,1:10)
sample(1,1:10)
sample(1:10,1)
sample(1:10,1)
x = iris[sample(1:nrow(df),1),]
x
# draft
source("../Rfunctions/Rfunctions.R")
library(ggplot2)
species = iris$Species
df = iris[,-5]
names(df) = tolower(names(df))
# init --------------------------------------------------------------------
x = df[sample(1:nrow(df),1),]
x
plot(iris)
plot(iris[,1:2])
data()
str(CO2)
str(co2)
str(chickwts)
str(seals)
str(txhousing)
plot(txhousing)
plot(txhousing[,-1])
str(txhousing)
data()
str(msleep)
str(mpg)
str(midwest)
lapply(midwest,unique)
?midwest
x = rnorm(10)
y = rnorm(10)
sqrt(x^2-y^2)
sqrt((x-y)^2)
x-y
sqrt(sum((x-y)^2))
sqrt(sum((c(0,3)-c(4,0))^2))
dist
dist(c(0,3),c(0,4))
dist(rbind)
dist(rbind(c(0,3),c(0,4)))
dist(cbind(c(0,3),c(0,4)))
dist(cbind(c(0,3),c(0,4),c(2,2)))
?dist
mydist = function(x,y){
return(sqrt(sum((x-y)^2)))
}
mydist(3,4)
x = c(1,2)
y = c(3,5)
z = c(-1,2)
mydist(x,y)
mydist(x,z)
mydist(y,z)
dist(cbind(z,y,z))
dist(rbind(z,y,z))
lapply(list(y,z), mydist, x = x)
dist(x,y)
my.dist(x,y)
mydist(x,y)
mydist(x,z)
lapply(list(y,z), mydist, x = x)
dist(x,y)
dist(c(x,y))
unlist(lapply(list(y,z), mydist, x = x))
rbind(y,z)
unlist(lapply(list(y,z), mydist, x = x))
apply(rbind(y,z), 1, mydist, x = x)
apply(data.frame(y,z), 1, mydist, x = x)
rbind(y,z)
adta.frame(y,z)
data.frame(y,z)
fk = data.frame(y,z)
fk
as.matrix(fk)
mydist = function(x,y){
return(sqrt(sum((x-y)^2)))
}
alldist = function(df,x){
df = as.matrix(df)
out = apply(df, 1, mydist, x = x)
return(out)
}
head(df)
species = txhousing
df = iris[,-5]
names(df) = tolower(names(df))
# params ------------------------------------------------------------------
r = 1
# init --------------------------------------------------------------------
init = sample(1:nrow(df),1)
x = df[init,]
# calc CM -----------------------------------------------------------------
mydist = function(x,y){
return(sqrt(sum((x-y)^2)))
}
alldist = function(df,x){
df = as.matrix(df)
out = apply(df, 1, mydist, x = x)
return(out)
}
alldist(df,x)
which(alldist(df,x) < r)
df[inrange,]
inrange = which(alldist(df,x) < r)
df[inrange,]
mean(df[inrange,])
colmeans(df[inrange,])
colMeans(df[inrange,])
cmdist = mydist(x, cm)
x
cm
?cm
cm = colMeans(df[inrange,])
cmdist = mydist(x, cm)
cmdist
s
s = .8*r # surfacing treshold
s
3 >= 2
x = c(3,3); cm = c(5,2)
x - cm
c(-2,1) + x
cm - x
x = c(3,3); cm = c(5,2)
x - cm
x + cm
cm - x
c(-2,1) + x
mydist(3,4)
mydist(c(0,3),c(0,4))
mydist(c(0,3),c(4,0))
mydist(c(0,6),c(8,0))
